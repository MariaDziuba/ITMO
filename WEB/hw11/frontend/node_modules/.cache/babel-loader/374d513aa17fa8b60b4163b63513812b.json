{"remainingRequest":"/Users/maria/Desktop/hw11/frontend/node_modules/babel-loader/lib/index.js!/Users/maria/Desktop/hw11/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/maria/Desktop/hw11/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/maria/Desktop/hw11/frontend/src/components/middle/FullPost.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/maria/Desktop/hw11/frontend/src/components/middle/FullPost.vue","mtime":1579039094000},{"path":"/Users/maria/Desktop/hw11/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maria/Desktop/hw11/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/maria/Desktop/hw11/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/maria/Desktop/hw11/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1pZGRsZVBvc3QgZnJvbSAiLi9NaWRkbGVQb3N0IjsKaW1wb3J0IENvbW1lbnQgZnJvbSAiLi4vY29tbW9uL0NvbW1lbnQiOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZ1bGxQb3N0IiwKICBjb21wb25lbnRzOiB7CiAgICBNaWRkbGVQb3N0OiBNaWRkbGVQb3N0LAogICAgQ29tbWVudDogQ29tbWVudAogIH0sCiAgcHJvcHM6IFsncG9zdCcsICd1c2VyJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlbmRlckNvbW1lbnRzOiB0cnVlLAogICAgICBhZGRpbmdDb21tZW50OiBmYWxzZSwKICAgICAgY29tbWVudFRleHQ6ICIiLAogICAgICBjb21tZW50czogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkFkZENvbW1lbnQ6IGZ1bmN0aW9uIG9uQWRkQ29tbWVudCgpIHsKICAgICAgdGhpcy5hZGRpbmdDb21tZW50ID0gdHJ1ZTsKICAgICAgYXhpb3MucG9zdCgiL2FwaS8xL3Bvc3QvIiArIHRoaXMucG9zdC5pZCwgewogICAgICAgIHRleHQ6IHRoaXMuY29tbWVudFRleHQKICAgICAgfSkudGhlbih0aGlzLmdldENvbW1lbnRzKS50aGVuKHRoaXMuaGlkZUNvbW1lbnRzKS50aGVuKHRoaXMuc2hvd0NvbW1lbnRzKTsKICAgICAgdGhpcy5hZGRpbmdDb21tZW50ID0gZmFsc2U7CiAgICAgIHRoaXMuY29tbWVudFRleHQgPSAiIjsKICAgIH0sCiAgICBoaWRlQ29tbWVudHM6IGZ1bmN0aW9uIGhpZGVDb21tZW50cygpIHsKICAgICAgdGhpcy5yZW5kZXJDb21tZW50cyA9IGZhbHNlOwogICAgfSwKICAgIHNob3dDb21tZW50czogZnVuY3Rpb24gc2hvd0NvbW1lbnRzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnJlbmRlckNvbW1lbnRzID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q29tbWVudHM6IGZ1bmN0aW9uIGdldENvbW1lbnRzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiL2FwaS8xL2NvbW1lbnRzLyIgKyB0aGlzLnBvc3QuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLmNvbW1lbnRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgfQp9Ow=="},{"version":3,"sources":["FullPost.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,UAAA,MAAA,cAAA;AACA,OAAA,OAAA,MAAA,mBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,OAAA,EAAA;AAFA,GAFA;AAMA,EAAA,KAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CANA;AAOA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,IADA;AAEA,MAAA,aAAA,EAAA,KAFA;AAGA,MAAA,WAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA;AAJA,KAAA;AAMA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,YAAA,EAAA,wBAAA;AACA,WAAA,aAAA,GAAA,IAAA;AAEA,MAAA,KAAA,CAAA,IAAA,CAAA,iBAAA,KAAA,IAAA,CAAA,EAAA,EAAA;AACA,QAAA,IAAA,EAAA,KAAA;AADA,OAAA,EAEA,IAFA,CAGA,KAAA,WAHA,EAIA,IAJA,CAIA,KAAA,YAJA,EAIA,IAJA,CAIA,KAAA,YAJA;AAMA,WAAA,aAAA,GAAA,KAAA;AACA,WAAA,WAAA,GAAA,EAAA;AACA,KAZA;AAaA,IAAA,YAbA,0BAaA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,KAfA;AAgBA,IAAA,YAhBA,0BAgBA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,IAAA;AACA,OAFA;AAGA,KApBA;AAqBA,IAAA,WArBA,yBAqBA;AAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,KAAA,IAAA,CAAA,EAAA,EAAA,IAAA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;AACA,OAHA;AAKA;AA3BA,GAfA;AA4CA,EAAA,WA5CA,yBA4CA;AACA,SAAA,WAAA;AACA;AA9CA,CAAA","sourcesContent":["<template>\n    <div class=\"full-post\">\n        <MiddlePost :post=\"post\"/>\n\n        <form v-if=\"user\" class=\"comment-form\" @submit.prevent=\"onAddComment\">\n            <div>\n                <h3>Add comment</h3>\n                <textarea id=\"text\" rows=\"20\" v-model=\"commentText\"></textarea>\n            </div>\n            <div class=\"error\">{{error}}</div>\n            <div>\n                <input :disabled=\"addingComment\" type=\"submit\" value=\"Add\"/>\n            </div>\n\n        </form>\n\n        <div v-if=\"renderComments\" class=\"comments\">\n            <h3 v-if=\"comments.length\">Comments: </h3>\n            <Comment v-for=\"comment in comments\" :key=\"comment.id\"\n                     :comment=\"comment\"></Comment>\n        </div>\n    </div>\n</template>\n\n<script>\n    import MiddlePost from \"./MiddlePost\";\n    import Comment from \"../common/Comment\";\n    import axios from 'axios'\n\n    export default {\n        name: \"FullPost\",\n        components: {\n            MiddlePost,\n            Comment\n        },\n        props: ['post', 'user'],\n        data: function () {\n            return {\n                renderComments: true,\n                addingComment: false,\n                commentText: \"\",\n                comments: []\n            }\n        },\n        methods: {\n            onAddComment: function () {\n                this.addingComment = true;\n\n                axios.post(\"/api/1/post/\" + this.post.id, {\n                    text: this.commentText,\n                }).then(\n                    this.getComments\n                ).then(this.hideComments).then(this.showComments);\n\n                this.addingComment = false;\n                this.commentText = \"\";\n            },\n            hideComments() {\n                this.renderComments = false;\n            },\n            showComments() {\n                this.$nextTick(() => {\n                    this.renderComments = true;\n                });\n            },\n            getComments() {\n                axios.get(\"/api/1/comments/\" + this.post.id).then(\n                    response => {\n                        this.comments = response.data;\n                    }\n                );\n            }\n        },\n        beforeMount() {\n            this.getComments();\n        }\n    }\n</script>\n\n<style scoped>\n    h3 {\n        color: #3B5998;\n    }\n\n    .comment-form textarea {\n        width: 15rem;\n        height: 2rem;\n    }\n</style>\n"],"sourceRoot":"src/components/middle"}]}